{% extends "WinkMurderGameBundle:Layout:base.html.twig" %}

{% block pageTitle %}Login{% endblock %}

{% block body %}
    <h2>Who are you?</h2>
    <div>
        {% if unauthenticatedPlayers %}
            <ul data-role="listview" data-inset="true">
            {% for player in unauthenticatedPlayers %}
                <li><a href="{{ path('winkmurder_game_authentication_loginplayer', {id: player.id}) }}" data-ajax="false">
                    <h3>{{ player.name }}</h3>
                    <p><img src="{{ player.imageUrl }}" alt="{{ player.name }}" /></p>
                </a></li>
            {% endfor %}
            </ul>
        {% else %}
            There are no accounts left to choose. Please ask the referee for an account.
        {% endif %}
    </div>

    <h2>Here you go as admin...</h2>
    {% if error %}
        <div>{{ error.message }}</div>
    {% endif %}

    <form action="{{ path('winkmurder_game_authentication_logincheck') }}" data-ajax="false" method="post">
        <div data-role="fieldcontain">
            <label for="username">Username:</label>
            <input type="text" id="username" name="_username" value="{{ last_username }}" />
        </div>

        <div data-role="fieldcontain">
            <label for="password">Password:</label>
            <input type="password" id="password" name="_password" />
        </div>

        <div data-role="fieldcontain">
            <input type="submit" value="Login" data-inline="true" />
        </div>
    </form>
{% endblock %}